<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc T·ª´ V·ª±ng Ti·∫øng H√†n</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/buttons.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/vocab-display.css">
    <link rel="stylesheet" href="css/flashcard.css">
    <link rel="stylesheet" href="css/quiz.css">
    <link rel="stylesheet" href="css/vocab-list.css">
    <link rel="stylesheet" href="css/games.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/messages.css">
</head>

<body>
    <div class="container">
        <div class="header-row">
            <div class="header-actions card-panel">
                <button class="action-btn add-word-btn" id="add-word-btn">
                    <span class="btn-icon">‚ûï</span>
                    <span>Th√™m T·ª´</span>
                </button>
                <button class="action-btn window-toggle-btn" id="window-toggle-btn">
                    <span class="btn-icon">ü™ü</span>
                    <span>C·ª≠a S·ªï</span>
                </button>
            </div>
            <div class="developer-info card-panel">
                <div class="developer-content">
                    <img class="developer-avatar" src="avatar.png" alt="Avatar">
                    <div class="developer-text">
                        <div class="developer-label">Developed by</div>
                        <div class="developer-name"><a href="https://github.com/huynd4104" target="_blank"
                                style="text-decoration: none; color: inherit;">
                                ÏñëÌúò - RinNguyen</a>
                        </div>
                    </div>
                    <div class="category-selector-display hidden" id="quiz-display-mode-container">
                        <select id="quiz-display-mode">
                            <option value="word">T·ª´</option>
                            <option value="meaning">Nghƒ©a</option>
                        </select>
                    </div>
                    <div class="category-selector-display hidden" id="flashcard-display-mode-container">
                        <select id="flashcard-display-mode">
                            <option value="word">T·ª´</option>
                            <option value="meaning">Nghƒ©a</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal word-modal hidden" id="word-modal">
            <div class="modal-content word-modal-content">
                <button id="close-modal-btn" class="btn modal-close-btn">‚úñ</button>
                <h2>Th√™m/S·ª≠a T·ª´ V·ª±ng</h2>
                <div class="form-group">
                    <input type="text" id="korean-input" class="form-input" placeholder="Nh·∫≠p t·ª´ ti·∫øng H√†n">
                </div>
                <div class="form-group">
                    <div class="form-input-group">
                        <input type="text" id="pronunciation-input" class="form-input"
                            placeholder="Nh·∫≠p phi√™n √¢m (romaja)" spellcheck="false">
                        <label><input type="checkbox" id="lookup-pronunciation" checked></label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-input-group">
                        <input type="text" id="vietnamese-input" class="form-input" placeholder="Nh·∫≠p nghƒ©a ti·∫øng Vi·ªát"
                            spellcheck="false">
                        <label><input type="checkbox" id="lookup-vietnamese" checked></label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-input-group">
                        <textarea id="example-input" class="form-textarea"
                            placeholder="Nh·∫≠p c√¢u v√≠ d·ª• (ti·∫øng H√†n v√† nghƒ©a ti·∫øng Vi·ªát)" spellcheck="false"
                            rows="3"></textarea>
                        <label><input type="checkbox" id="lookup-example" checked></label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-input-group">
                        <textarea id="note-input" class="form-textarea" placeholder="Nh·∫≠p ch√∫ √Ω (n·∫øu c√≥)"
                            spellcheck="false" rows="3"></textarea>
                        <label><input type="checkbox" id="lookup-note" checked></label>
                    </div>
                </div>
                <div class="form-group">
                    <input type="text" id="category-input" class="form-input" placeholder="Nh·∫≠p danh m·ª•c"
                        list="category-suggestions" spellcheck="false">
                    <datalist id="category-suggestions"></datalist>
                </div>
                <div class="form-message" id="form-message"></div>
                <div class="form-controls">
                    <button class="btn btn-secondary" id="save-word-btn">L∆∞u</button>
                    <button class="btn btn-primary" id="lookup-word-btn">Tra c·ª©u</button>
                </div>
            </div>
        </div>

        <div class="stats-category-row">
            <div class="stats-progress-row">
                <div class="stats">
                    <div class="stat-item">
                        <span id="current-count">0</span> / <span id="total-count">0</span>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
                </div>
            </div>
            <div class="category-selector">
                <select id="category-select" class="form-input">
                    <option value="all">T·∫•t c·∫£</option>
                </select>
            </div>
        </div>

        <div class="mode-selector">
            <button class="mode-btn active" id="study-mode-btn">H·ªçc T·ª´</button>
            <button class="mode-btn" id="quiz-mode-btn">Ki·ªÉm Tra</button>
            <button class="mode-btn" id="flashcard-mode-btn">Flashcard</button>
            <button class="mode-btn" id="game-mode-btn">Game</button>
            <button class="mode-btn" id="unknown-mode-btn">Ch√∫ √Ω</button>
            <button class="mode-btn" id="manage-mode-btn">Qu·∫£n L√Ω</button>
        </div>

        <div id="control-buttons" class="controls">
            <button id="shuffle-btn" class="btn btn-primary">‚ôªÔ∏è Tr·ªôn T·ª´</button>
            <button id="reset-btn" class="btn btn-secondary">‚öúÔ∏è L√†m L·∫°i</button>
            <button id="prev-btn" class="btn btn-accent">üëà T·ª´ Tr∆∞·ªõc</button>
            <button id="next-btn" class="btn btn-accent">T·ª´ Ti·∫øp üëâ</button>
        </div>

        <div id="study-mode" class="hidden">
            <div id="study-empty-state" class="empty-state hidden">
                <div class="empty-state-icon">üìö</div>
                <div class="empty-state-message-text">Ch∆∞a c√≥ t·ª´ v·ª±ng trong mode H·ªçc t·ª´.</div>
            </div>
            <div class="flip-card" id="study-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <div class="category" id="study-category"></div>
                        <div class="korean-word" id="study-korean"></div>
                        <div class="pronunciation" id="study-pronunciation"></div>
                        <div class="vietnamese" id="study-vietnamese"></div>
                        <div class="flip-hint">Nh·∫•n ƒë·ªÉ xem v√≠ d·ª•</div>
                    </div>
                    <div class="flip-card-back">
                        <div class="category" id="study-back-category"></div>
                        <div class="example" id="study-example">
                            <div class="study-example-korean" id="study-example-korean"></div>
                            <div class="study-example-vietnamese" id="study-example-vietnamese"></div>
                        </div>
                        <div class="flip-hint">Nh·∫•n ƒë·ªÉ xem t·ª´</div>
                    </div>
                </div>
            </div>
            <div class="button-container">
                <button id="play-tts-btn" class="btn btn-primary">üîä Ph√°t √¢m</button>
                <button id="edit-word-btn" class="btn btn-accent">S·ª≠a</button>
            </div>
        </div>

        <div id="quiz-mode" class="hidden">
            <div id="quiz-empty-state" class="empty-state hidden">
                <div class="empty-state-icon">‚ùì</div>
                <div class="empty-state-message-text">Ch∆∞a c√≥ t·ª´ v·ª±ng trong mode Ki·ªÉm tra.</div>
            </div>
            <div class="card">
                <span class="category" id="quiz-category"></span>
                <div class="korean-word" id="quiz-korean"></div>
                <div id="quiz-vietnamese" class="hidden"></div>
                <div class="quiz-options" id="quiz-options"></div>
                <div class="quiz-result" id="quiz-result"></div>
            </div>
        </div>

        <div id="flashcard-mode" class="hidden">
            <div id="flashcard-empty-state" class="empty-state hidden">
                <div class="empty-state-icon">üé¥</div>
                <div class="empty-state-message-text">Ch∆∞a c√≥ t·ª´ v·ª±ng trong mode FlashCard.</div>
            </div>
            <div id="flashcard" class="card flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <span class="category" id="flashcard-category"></span>
                        <div class="korean-word" id="flashcard-korean"></div>
                        <div class="pronunciation" id="flashcard-pronunciation"></div>
                        <div class="vietnamese hidden" id="flashcard-vietnamese"></div>
                        <div class="flip-hint">Nh·∫•n ƒë·ªÉ xem nghƒ©a</div>
                    </div>
                    <div class="flip-card-back">
                        <div class="korean-word hidden" id="flashcard-back-korean"></div>
                        <div class="pronunciation hidden" id="flashcard-back-pronunciation"></div>
                        <div class="vietnamese" id="flashcard-back-vietnamese"></div>
                        <div class="flip-hint">Nh·∫•n ƒë·ªÉ quay l·∫°i</div>
                    </div>
                </div>
                <div class="controls">
                    <button id="mark-correct-btn" class="btn btn-primary">‚úîÔ∏è Bi·∫øt</button>
                    <button id="mark-wrong-btn" class="btn btn-secondary">‚ùå Ch∆∞a Bi·∫øt</button>
                    <button id="play-tts-flashcard-btn" class="btn btn-accent">üîä Ph√°t √¢m</button>
                </div>
            </div>
        </div>

        <div id="game-mode" class="hidden">
            <div class="game-tabs">
                <button class="tab-btn active" id="matching-tab-btn">Gh√©p T·ª´</button>
                <button class="tab-btn" id="fill-tab-btn">ƒêi·ªÅn T·ª´</button>
                <button class="btn btn-accent" id="reset-game-btn">‚ôªÔ∏è L√†m L·∫°i Gh√©p T·ª´</button>
                <button class="btn btn-accent hidden" id="reset-fill-game-btn">‚ôªÔ∏è L√†m L·∫°i ƒêi·ªÅn T·ª´</button>
            </div>
            <div id="matching-empty-state" class="empty-state hidden">
                <div class="empty-state-icon">üéÆ</div>
                <div class="empty-state-message-text">Ch∆∞a c√≥ t·ª´ v·ª±ng trong danh m·ª•c n√†y!</div>
            </div>
            <div id="matching-game" class="game-content">
                <div class="matching-container">
                    <div class="matching-column" id="korean-column"></div>
                    <div class="matching-column" id="vietnamese-column"></div>
                </div>
                <div id="matching-result" class="game-result"></div>
            </div>

            <div id="fill-empty-state" class="empty-state hidden">
                <div class="empty-state-icon">‚úçÔ∏è</div>
                <div class="empty-state-message-text">Ch∆∞a c√≥ t·ª´ v·ª±ng trong danh m·ª•c n√†y!</div>
            </div>
            <div id="fill-game" class="game-content hidden">
                <div id="fill-sentence"></div>
                <div id="fill-options" class="fill-options"></div>
                <div id="fill-result" class="game-result"></div>
            </div>
        </div>

        <div id="unknown-mode" class="hidden">
            <div class="card">
                <div id="unknown-empty-state" class="empty-state hidden">
                    <div class="empty-state-icon">‚ö†Ô∏è</div>
                    <div class="empty-state-message-text">Ch∆∞a c√≥ t·ª´ n√†o trong danh s√°ch ch∆∞a bi·∫øt.</div>
                    <div class="empty-state-message-text">H√£y ƒë√°nh d·∫•u nh·ªØng t·ª´ kh√≥ trong ch·∫ø ƒë·ªô Flashcard!</div>
                </div>
                <div class="vocab-list" id="unknown-list"></div>
            </div>
        </div>

        <div id="manage-mode" class="hidden">
            <div class="card">
                <h2>Danh S√°ch T·ª´ V·ª±ng</h2>
                <div class="vocab-controls">
                    <div class="search-group">
                        <input type="text" id="vocab-search" class="form-input" placeholder="T√¨m ki·∫øm t·ª´ v·ª±ng..."
                            spellcheck="false">
                    </div>
                    <button class="btn btn-secondary" id="delete-all-btn">üóëÔ∏è X√≥a T·∫•t C·∫£</button>
                </div>
                <div id="manage-empty-state" class="empty-state hidden">
                    <div class="empty-state-icon">üóÉÔ∏è</div>
                    <div class="empty-state-message-text">Kh√¥ng c√≥ t·ª´ v·ª±ng n√†o trong danh m·ª•c "T·∫•t c·∫£".</div>
                    <div class="empty-state-message-text">H√£y th√™m t·ª´ m·ªõi ho·∫∑c ki·ªÉm tra t√¨m ki·∫øm!</div>
                </div>
                <div class="vocab-list" id="vocab-list"></div>
            </div>
            <div class="card">
                <h2>T·∫£i L√™n Danh S√°ch T·ª´ V·ª±ng</h2>
                <div class="form-group">
                    <label for="vocab-list-input">
                        Danh s√°ch t·ª´ (m·ªói d√≤ng: t·ª´ ti·∫øng H√†n`phi√™n √¢m`nghƒ©a ti·∫øng Vi·ªát`v√≠ d·ª• - t√πy ch·ªçn):
                    </label>
                    <textarea id="vocab-list-input" class="form-textarea" rows="5"></textarea>
                </div>
                <div class="form-group">
                    <label for="list-category-input">Danh m·ª•c cho danh s√°ch:</label>
                    <input type="text" id="list-category-input" class="form-input" list="category-suggestions"
                        spellcheck="false">
                </div>
                <div class="form-controls">
                    <button class="btn btn-primary" id="upload-list-btn">T·∫£i L√™n</button>
                </div>
                <div class="form-message" id="upload-message"></div>
            </div>

            <div class="card">
                <h2>Nh·∫≠p/Xu·∫•t T·ª´ V·ª±ng</h2>
                <div class="form-group">
                    <label for="import-file">Ch·ªçn file ƒë·ªÉ nh·∫≠p (m·ªói d√≤ng: t·ª´ ti·∫øng H√†n.phi√™n √¢m.nghƒ©a ti·∫øng Vi·ªát.danh
                        m·ª•c):</label>
                    <input type="file" id="import-file" class="form-input" accept=".txt">
                </div>
                <div class="controls">
                    <button id="import-file-btn" class="btn btn-primary">Nh·∫≠p File</button>
                    <button id="export-all-btn" class="btn btn-secondary">Xu·∫•t T·∫•t C·∫£</button>
                </div>
                <div id="import-message" class="form-message"></div>
            </div>

            <div class="form-group">
                <button class="btn btn-primary" id="open-api-key-modal-btn">C√†i ƒê·∫∑t API Key</button>
            </div>
        </div>

        <div id="api-key-modal" class="modal hidden">
            <div class="modal-content">
                <h2><a href="https://aistudio.google.com/apikey" target="_blank"
                        style="text-decoration: none; color: inherit;">Qu·∫£n L√Ω API Key Gemini</a></h2>
                <div class="form-group">
                    <input type="text" id="api-key-input" class="form-input" placeholder="Th√™m API Key">
                </div>
                <div id="api-key-list" class="vocab-list"></div>
                <div id="api-key-message" class="form-message"></div>
                <div class="form-controls">
                    <button id="save-api-key-btn" class="btn btn-secondary">L∆∞u</button>
                    <button id="close-api-key-modal-btn" class="btn btn-primary">‚úñ</button>
                </div>
            </div>
        </div>
    </div>
    <script src="./js/events.js"></script>
    <script src="./js/db.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/modes.js"></script>
    <script src="./js/ui.js"></script>
    <script src="./js/api.js"></script>
    <script src="js/main.js"></script>
</body>

</html>